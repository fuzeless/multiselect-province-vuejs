(function(){"use strict";var e={6275:function(e,t,n){var o=n(8125),c=n(7749),r=n(8321),i=n(9242),s=n(3396);function l(e,t,n,o,c,r){const i=(0,s.up)("Input"),l=(0,s.up)("FormSelect"),a=(0,s.up)("SelectChips");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i,{placeholder:"Chọn tỉnh thành",onClickInput:r.handleInputClick,showDialog:this.$store.state.showDialog},null,8,["onClickInput","showDialog"]),this.$store.state.showDialog?((0,s.wg)(),(0,s.j4)(l,{key:0,options:this.provinces,nameKey:"name",indexKey:"code"},null,8,["options"])):(0,s.kq)("",!0),(0,s.Wm)(a)],64)}var a=n(7139);const d={class:"input"},u=["placeholder"];function h(e,t,n,o,c,r){const l=(0,s.up)("font-awesome-icon");return(0,s.wg)(),(0,s.iD)("div",d,[(0,s.wy)((0,s._)("input",{type:"text",class:(0,a.C_)(["input__field",{active:n.showDialog}]),id:"input-field",placeholder:n.placeholder,"onUpdate:modelValue":t[0]||(t[0]=e=>r.query=e),onClick:t[1]||(t[1]=t=>e.$emit("click-input"))},null,10,u),[[i.nr,r.query]]),(0,s.Wm)(l,{icon:"fa-solid fa-caret-down",class:"input__icon"})])}var p={name:"Input",props:{placeholder:String,showDialog:Boolean},computed:{query:{get(){return this.$store.getters.getQuery},set(e){this.$store.dispatch("setQuery",e)}}}},v=n(89);const m=(0,v.Z)(p,[["render",h],["__scopeId","data-v-8210b25e"]]);var f=m;n(6699);const g=e=>((0,s.dD)("data-v-9319eeda"),e=e(),(0,s.Cn)(),e),S={class:"select"},w=["for"],y=["id","value","checked"],P=g((()=>(0,s._)("span",{class:"checkmark"},null,-1))),_={class:"select__buttons"},k=(0,s.Uk)("Đồng ý"),C=(0,s.Uk)("Huỷ");function D(e,t,n,o,c,r){const l=(0,s.up)("VuePerfectScrollbar"),d=(0,s.up)("Button");return(0,s.wg)(),(0,s.iD)("div",S,[(0,s.Wm)(l,{class:"select__scrollbar"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.filteredList,(e=>((0,s.wg)(),(0,s.iD)("label",{class:"select__item",key:e[n.indexKey],for:e[n.indexKey]},[(0,s.wy)((0,s._)("input",{type:"checkbox",id:e[n.indexKey],onChange:t[0]||(t[0]=(...e)=>r.handleCheck&&r.handleCheck(...e)),value:e[n.indexKey],"onUpdate:modelValue":t[1]||(t[1]=e=>r.selected=e),checked:this.selected.includes(e[n.indexKey])},null,40,y),[[i.e8,r.selected]]),P,(0,s.Uk)(" "+(0,a.zw)(e[n.nameKey]),1)],8,w)))),128))])),_:1}),(0,s._)("div",_,[(0,s.Wm)(d,{variant:this.$store.getters.isPreSelectedEmpty?"disabled":"primary",onClick:t[2]||(t[2]=e=>r.handleButtonClick("select"))},{default:(0,s.w5)((()=>[k])),_:1},8,["variant"]),(0,s.Wm)(d,{variant:"text",onClick:t[3]||(t[3]=e=>r.handleButtonClick("cancel"))},{default:(0,s.w5)((()=>[C])),_:1})])])}var b=n(7733);function $(e,t,n,o,c,r){return(0,s.wg)(),(0,s.iD)("button",{class:(0,a.C_)(["button",`button__${n.variant}`])},[(0,s.WI)(e.$slots,"default",{},void 0,!0)],2)}var x={name:"Button",props:{variant:{type:String,default:"primary"}}};const I=(0,v.Z)(x,[["render",$],["__scopeId","data-v-05c1b706"]]);var K=I,O={name:"FormSelect",components:{VuePerfectScrollbar:b.Z,Button:K},computed:{selected:{get(){return this.$store.getters.getPreSelectedProvinces},set(){this.$store.commit("setPreSelectedProvince",this.selected)}},query:{get(){return this.$store.getters.getQuery},set(e){this.$store.dispatch("setQuery",e)}},filteredList(){return this.options.filter((e=>e[this.nameKey].toLowerCase().includes(this.query.toLowerCase())))}},props:{options:Array,nameKey:String,indexKey:String},methods:{handleCheck(e){const{id:t,checked:n}=e.target;this.$store.dispatch("handlePreSelectProvince",{code:t,checked:n})},handleButtonClick(e){switch(e){case"select":this.$store.dispatch("handleConfirmSelection"),this.$store.dispatch("setShowDialog",!1);break;case"cancel":this.$store.dispatch("handleCancelSelection"),this.$store.dispatch("setShowDialog",!1);break;default:break}}}};const W=(0,v.Z)(O,[["render",D],["__scopeId","data-v-9319eeda"]]);var j=W;const q={class:"chips"},B={class:"chips__name"};function Q(e,t,n,o,c,r){const i=(0,s.up)("font-awesome-icon");return(0,s.wg)(),(0,s.iD)("div",q,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.provinces,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"chips__item",key:e.code},[(0,s._)("div",B,(0,a.zw)(e.name),1),(0,s.Wm)(i,{icon:"fa-solid fa-x",class:"chips__delete-icon",onClick:t=>r.handleDeleteSelected(e.code)},null,8,["onClick"])])))),128))])}var Z={name:"SelectChips",computed:{provinces(){return this.$store.getters.getSelectedProvinces}},methods:{handleDeleteSelected(e){this.$store.dispatch("handleDeleteSelected",e)}}};const E=(0,v.Z)(Z,[["render",Q],["__scopeId","data-v-53e8c38a"]]);var U=E,A={name:"App",computed:{provinces(){return this.$store.getters.getAllProvincesWithCode}},mounted(){this.$store.dispatch("getProvinces")},components:{Input:f,FormSelect:j,SelectChips:U},methods:{handleInputClick(){this.$store.dispatch("setShowDialog",!this.$store.state.showDialog)}}};const F=(0,v.Z)(A,[["render",l]]);var H=F,L=n(6265),V=n.n(L),T=n(65),Y=(0,T.MT)({state:{provinces:[{code:"",name:""}],selected:[],preselected:[],showDialog:!1,query:""},getters:{getAllProvincesWithCode:e=>e.provinces.map((e=>({name:e.name,code:e.code}))),getSelectedProvinces:e=>e.provinces.filter((t=>e.selected.includes(t.code.toString()))),getPreSelectedProvinces:e=>e.preselected,getProvinceNameByCode:e=>t=>e.provinces.filter((e=>e.code===t))[0].name,isProvinceSelected:e=>t=>e.selected.includes(t),isProvincePreSelected:e=>t=>e.preselected.includes(t),isPreSelectedEmpty:e=>0===e.preselected.length,getShowDialog:e=>e.showDialog,getQuery:e=>e.query},mutations:{setProvinces(e,t){e.provinces=t},addSelectedProvince(e,t){e.selected.push(t)},removeSelectedProvince(e,t){e.selected=e.selected.filter((e=>e.toString()!==t.toString()))},setSelectedProvince(e,t){e.selected=[],t.forEach((t=>{e.selected.push(t)}))},addPreSelectedProvince(e,t){e.preselected.push(t)},removePreSelectedProvince(e,t){e.preselected=e.preselected.filter((e=>e.toString()!==t.toString()))},setPreSelectedProvince(e,t){e.preselected=t},setShowDialog(e,t){e.showDialog=t},setQuery(e,t){e.query=t}},actions:{async getProvinces({commit:e}){const t=await V().get("https://provinces.open-api.vn/api/");t&&200===t.status&&e("setProvinces",t.data)},handleSelectProvince({commit:e},{code:t,checked:n}){e(n?"addSelectedProvince":"removeSelectedProvince",t)},handlePreSelectProvince({commit:e},{code:t,checked:n}){e(n?"addPreSelectedProvince":"removePreSelectedProvince",t)},handleConfirmSelection({commit:e,state:t}){e("setSelectedProvince",t.preselected)},handleCancelSelection({commit:e,state:t}){e("setPreSelectedProvince",t.selected)},handleDeleteSelected({commit:e},t){e("removeSelectedProvince",t),e("removePreSelectedProvince",t)},setShowDialog({commit:e},t){e("setShowDialog",t)},setQuery({commit:e},t){e("setQuery",t)}},modules:{}});o.vI.add(r.eW2,r.EOp),(0,i.ri)(H).use(Y).component("font-awesome-icon",c.GN).mount("#app")}},t={};function n(o){var c=t[o];if(void 0!==c)return c.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,c,r){if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],c=e[d][1],r=e[d][2];for(var s=!0,l=0;l<o.length;l++)(!1&r||i>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(s=!1,r<i&&(i=r));if(s){e.splice(d--,1);var a=c();void 0!==a&&(t=a)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,c,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var c,r,i=o[0],s=o[1],l=o[2],a=0;if(i.some((function(t){return 0!==e[t]}))){for(c in s)n.o(s,c)&&(n.m[c]=s[c]);if(l)var d=l(n)}for(t&&t(o);a<i.length;a++)r=i[a],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},o=self["webpackChunkmultiselect_province_vuejs"]=self["webpackChunkmultiselect_province_vuejs"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(6275)}));o=n.O(o)})();
//# sourceMappingURL=app.62bf11aa.js.map